<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Web Socket Example</title>
    <!-- <link rel="stylesheet" href="css/style.css"> -->
    <!--[if IE]>
        <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
</head>

<body id="home">
    <h1>Web Socket Example</h1>
    <p>Open Console to see connection.</p>

    <script>
        /** Example of a DoS attack **

            setInterval( () => {
                let ws1 = new WebSocket('ws://localhost:40510')

                ws1.onopen = function () {
                    console.log('Websocket Connected!')
                    ws.send('Websocket Connected!')
                }
            }, 1000)
        */

        /*
           FIXME - write if else for ws / wss according to the http or https ?
           const ws = new WebSocket('ws://localhost:40510');
        */
        const ws = new WebSocket('wss://localhost:40510');

        ws.onopen = function () {
            console.log('Websocket Connected!')
            ws.send('Ping')
        }

        ws.onmessage = function (data) {
            console.log(data);
        }

        ws.onclose = function () {
            console.log('Websocket Disconnected!')
        }
    </script>
</body>
</html>